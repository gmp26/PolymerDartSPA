<!-- import polymer-element's definition -->
<link rel="import" href="../../packages/polymer/polymer.html">
  <link rel="import" href="../../packages/core_elements/core_scaffold.html">
  <link rel="import" href="../../packages/core_elements/core_menu.html">
  <link rel="import" href="../../packages/core_elements/core_submenu.html">
  <link rel="import" href="../../packages/core_elements/core_animated_pages.html">
  <link rel="import" href="../../packages/core_elements/core_transition.html">
  <link rel="import" href="../../packages/core_elements/core_icons.html">
  <link rel="import" href="../../packages/core_elements/social_icons.html">
  <link rel="import" href="../../packages/paper_elements/paper_item.html">
  <link rel="import" href="../../packages/paper_elements/paper_shadow.html">
  <link rel="import" href="../lib/game1_level1.html">
  <link rel="import" href="../lib/game1_level2.html">
  <link rel="import" href="../lib/game2_level1.html">
  <link rel="import" href="../lib/game2_level2.html">
  <link rel="import" href="../lib/game3_level1.html">
  <link rel="import" href="../lib/game3_level2.html">
  <link rel="import" href="../lib/play_computer.html">
  <link rel="import" href="../lib/play_human.html">
  <link rel="import" href="../lib/play_blockly.html">
  <link rel="import" href="../lib/code_blockly.html">
  <link rel="import" href="../../packages/paper_elements/roboto.html">

<polymer-element name="main-app">
  <core-media-query query="max-width: 640px" queryMatches="{{phoneScreen}}"></core-media-query>
  <template>
    <style>
      :host {
        display: block;
        color: white;
        font-size: {{phoneScreen ? '14px' : '24px' }};
      }
      core-animated-pages {
        width: 100%;
        height: 100%;
        -webkit-user-select: none;
        overflow: hidden;
      }
      
      #pagePanel {
        background-color: #F9FF9A;
      }
      
      #scaffold /deep/ core-toolbar {
        background-color:  #26E7CA;
        color: #fff;
      }
      
      
      #scaffold /deep/ [drawer] {
        box-shadow: none;
        background-color: #FFD569;
      }
      
      core-animated-pages > * {
        //border-radius: 5px;
        font-size: 50px;
        color: white;
        background-color: rgb(242, 146, 129);
      }
      
      core-animated-pages .holder {
        width:100%;
        height: 100%;
      }
      
      core-menu {
        //color: rgb(0, 158, 152); /*#01579b;*/
        margin: 10px 0 0 0;
      }
      
      core-menu core-submenu.core-selected {
        background: rgb(98, 194, 253); // rgb(219, 157, 255);
        color: white;
        font-size: 1.5em;
      }
      
      core-menu paper-item {
        //color:  rgb(0, 158, 152);
        transition: all 200ms ease-in;
      }
      
      core-menu core-submenu.core-selected  paper-item.core-selected {
        background: rgb(98, 194, 253); //rgb(219, 157, 255);
        color: white;
        font-size: 1.2em;
      }
      
      .big {
        font-size:2em;
      }
      
      @media all and (max-width: 200px) {
        core-animated-pages {
          width: 100%;
          height: 100%;
        }
      }   

    </style>
    
    <!-- Template content here -->
    <core-scaffold id="scaffold">
      <nav>
        <core-toolbar class="medium-tall"><span class="bottom big">Got it!</span></core-toolbar>
  
        <core-menu valueattr="hash" selected="{{route}}"  on-core-select="{{menuItemSelected}}">
          <template repeat="{{page in pages}}">
            <core-submenu id="menu{{page['hash']}}" icon="{{page['icon']}}" label="{{page['name']}}" >
              <a _href="#{{page['hash']}}"></a>

              <template repeat="{{p in page['subContent']}}">
                <paper-item id="menu{{p['hash']}}" icon="{{p['icon']}}" label="{{p['name']}}">
                  <a _href="#{{p['hash']}}"></a>
                </paper-item>
              </template>

            </core-submenu>
          </template>
        </core-menu>
      </nav>

      <!-- flex makes the bar span across the top of the main content area -->
      <core-toolbar tool flex>
        <!-- flex spaces this element and justifies the icons to the right-side -->
        <div flex>{{routeTitle}}</div>
        <core-icon-button icon="add"></core-icon-button>
        <core-icon-button icon="fullscreen"></core-icon-button>
      </core-toolbar>

      <div id="pagePanel" layout horizontal center-center fit >
        <core-animated-pages selected="{{pageIndex}}" valueattr="hash">
          <template repeat="{{page in pages}}">
            <div id="{{page['hash']}}">
            </div>
            <template repeat="{{p in page['subContent']}}">
              <paper-shadow z="1" id="{{p['hash']}}" class="holder" layout vertical center-center>
                <div cross-fade id="page-holder">{{p['name']}}</div>
              </paper-shadow>
            </template>

          </template>
        </core-animated-pages>
      </div>
  
    </core-scaffold>
  </template>
  <script type="application/dart" src="main_app.dart"></script>
</polymer-element>
